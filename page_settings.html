<!-- 半透明浮層 -->
<div id="settingsOverlay" hidden>
  <div class="settings-backdrop"></div>
  <div class="settings-sheet card">
    <div class="sheet-head">
      <div class="title-with-icon">
        <span class="material-symbols-outlined">settings_suggest</span>
        <strong>介面偏好設定</strong>
      </div>
      <div class="head-actions">
        <button class="btn-ghost btnResetPalette" type="button" title="重置為系統預設顏色">還原預設</button>
        <button id="closeSettings" class="btn-ghost"><span class="material-symbols-outlined">close</span></button>
      </div>
    </div>

    <div class="settings-scroll-area">
      <div class="settings-section" id="settingsPanel">

        <!-- ① 主題與底色 -->
        <div class="settings-group card card--ghost">
          <div class="group-title">
            <span class="material-symbols-outlined">palette</span>
            主題與底色
          </div>
          <div class="neu-control-grid">
            <label class="neu-lab">自訂主題背景色 (--bg)
              <div class="inp-with-swatch">
                <input type="color" data-scope="global" data-var="--bg">
                <input type="text" placeholder="#HEX" class="hex-text" data-sync="--bg">
              </div>
            </label>
            <label class="neu-lab">全局圓角 (--radius)
              <div class="range-wrap">
                <input type="range" min="0" max="40" step="1" data-scope="global" data-var="--radius" data-suffix="px">
                <span class="range-val" data-read="--radius">16px</span>
              </div>
            </label>
          </div>
        </div>

        <!-- ② 擬態陰影細節 -->
        <div class="settings-group card card--ghost">
          <div class="group-title">
            <span class="material-symbols-outlined">blur_on</span>
            擬態細節 (Neumorphic)
          </div>
          <div class="neu-control-grid">
            <label class="neu-lab">上高亮色 (--neu-upper)
              <input type="color" data-scope="global" data-var="--neu-upper">
            </label>
            <label class="neu-lab">下陰影色 (--neu-lower)
              <input type="color" data-scope="global" data-var="--neu-lower">
            </label>
          </div>
        </div>

        <!-- ③ 品牌與重點色 -->
        <div class="settings-group card card--ghost">
          <div class="group-title">
            <span class="material-symbols-outlined">colorize</span>
            重點組件顏色
          </div>
          <div class="neu-control-grid">
            <label class="neu-lab">導覽目前項 背景 (--crumb-current-bg)
              <input type="color" data-scope="global" data-var="--crumb-current-bg">
            </label>
            <label class="neu-lab">導覽目前項 字色 (--crumb-current-fg)
              <input type="color" data-scope="global" data-var="--crumb-current-fg">
            </label>
            <label class="neu-lab">品牌主色 (--tint)
              <input type="color" data-scope="global" data-var="--tint">
            </label>
            <label class="neu-lab">輔助特色 (--accent)
              <input type="color" data-scope="global" data-var="--accent">
            </label>
          </div>
        </div>

        <!-- ④ 佈局佈局 -->
        <div class="settings-group card card--ghost">
          <div class="group-title">
            <span class="material-symbols-outlined">straighten</span>
            佈局尺寸
          </div>
          <div class="neu-control-grid-3">
            <label class="neu-lab">UI 縮放
              <input type="range" min="0.8" max="1.5" step="0.05" data-scope="global" data-var="--ui-scale">
            </label>
            <label class="neu-lab">字體大小
              <input type="range" min="12" max="24" step="1" data-scope="global" data-var="--font-body"
                data-suffix="px">
            </label>
            <label class="neu-lab">最大寬度
              <input type="range" min="800" max="2500" step="50" data-scope="global" data-var="--container-max"
                data-suffix="px">
            </label>
          </div>
        </div>

      </div>
    </div>

    <div class="sheet-foot">
      <button class="btn-ghost btnResetAll">全部重置</button>
      <button class="btn btnSave" style="margin-left: auto;">確認儲存</button>
    </div>
  </div>
</div>