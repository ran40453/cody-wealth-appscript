<section id="page-record" class="page">

  <!-- 1. Header & Date Navigator -->
  <div class="db-dash-header">
    <div class="card card-date-nav">
      <button class="nav-btn" id="dbPrevDay" title="上一日">
        <span class="material-symbols-outlined">chevron_left</span>
      </button>

      <div class="date-display" id="dbDateDisplay">
        <div class="date-main mask-num" id="dbCurrentDate">Loading...</div>
        <div class="date-sub" id="dbDateSub">--</div> <!-- e.g. "Wednesday" or "Today" -->
        <input type="date" id="dbDateInput" class="hidden-date-input">
      </div>

      <button class="nav-btn" id="dbNextDay" title="下一日">
        <span class="material-symbols-outlined">chevron_right</span>
      </button>
    </div>

    <!-- Actions (Add Row, Reload) - Compact -->
    <div class="db-actions">
      <button id="btnRecordAddRow" class="btn-icon circle glass" title="新增一列">
        <span class="material-symbols-outlined">add</span>
      </button>
      <button id="btnRecordReload" class="btn-icon circle glass" title="重新載入">
        <span class="material-symbols-outlined">refresh</span>
      </button>
    </div>
  </div>

  <!-- 2. KPI Summary Cards (Yesterday vs Today) -->
  <!-- 2. Pinned Stats (Total, Net, Actionable, PnL, Available) -->
  <div class="db-pinned-stats">
    <!-- 1: Total Assets (C) -->
    <div class="card stat-card">
      <div class="stat-label">總資產 (Total)</div>
      <div class="stat-main mask-num" id="dbPinTotal">---</div>
    </div>
    <!-- 2: Net (D) -->
    <div class="card stat-card">
      <div class="stat-label">總資產+爸 (Net)</div>
      <div class="stat-main mask-num" id="dbPinNet">---</div>
    </div>
    <!-- 3: Actionable (E) -->
    <div class="card stat-card">
      <div class="stat-label">可操作</div>
      <div class="stat-main mask-num" id="dbPinAction">---</div>
    </div>
    <!-- 4: PnL (F) -->
    <div class="card stat-card">
      <div class="stat-label">當日損益</div>
      <div class="stat-main mask-num" id="dbPinPnL">---</div>
    </div>
    <!-- 5: Available (G) -->
    <div class="card stat-card">
      <div class="stat-label">可用金額</div>
      <div class="stat-main mask-num" id="dbPinAvail">---</div>
    </div>
  </div>

  <!-- 3. Detail Groups Grid -->
  <div id="dbDetailsGrid" class="db-details-grid">
    <!-- Content injected by JS -->
    <div class="empty-state">
      <span class="material-symbols-outlined spin">sync</span>
      <span>Loading Dashboard...</span>
    </div>
  </div>

  <div id="dbStatusOverlay" class="db-status-overlay hidden">
    <div class="spinner"></div>
  </div>

</section>