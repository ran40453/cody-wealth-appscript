<section id="page-record" class="page">
  <div class="card cards-zoom-scope db-header-card">
    <div class="card-hd">
      <div class="title">Database 操作</div>
      <div class="actions">
        <button id="btnRecordAnalyse" class="btn btn--secondary" title="分析變動">
          <span class="material-symbols-outlined">analytics</span>
          <span class="txt">分析變動</span>
        </button>
        <button id="btnRecordAddRow" class="btn btn--primary" title="新增一列">
          <span class="material-symbols-outlined">add_circle</span>
          <span class="txt">新增一列</span>
        </button>
        <button id="btnRecordReload" class="btn-ghost" title="重載清單">
          <span class="material-symbols-outlined">refresh</span>
        </button>
        <span id="dbStatusPill" class="pill">—</span>
      </div>
    </div>
    <div class="card-bd db-notice">
      這個按鈕會：凍結最後一列 H~末欄為值、A 欄寫入時間，然後在下一列鋪回公式骨架。
    </div>
  </div>

  <!-- 兩欄佈局：左最新摘要 + 右虛擬清單 -->
  <div class="db2col">
    <aside class="card db-latest" id="dbLatestCard">
      <h3 class="keep-title">最新資料</h3>
      <div id="dbLatestBox">
        <div class="empty">載入中…</div>
      </div>
    </aside>

    <div class="card db-tableCard">
      <div id="dbViewport" class="db-viewport">
        <div id="dbSpacer"></div>
        <table class="db-table">
          <thead id="dbThead"></thead>
          <tbody id="dbTbody"></tbody>
        </table>
      </div>
      <div class="db-meta" id="dbMeta">—</div>
    </div>
  </div>

</section>

<!-- Analysis Modal -->
<dialog id="dbAnalyseDlg" class="dlg-modal">
  <div class="dlg-box">
    <header class="dlg-hd">
      <div class="dlg-title" id="dbAnalyseTitle">變動分析</div>
      <button class="dlg-close" id="dbAnalyseClose"><span class="material-symbols-outlined">close</span></button>
    </header>
    <div class="dlg-bd">
      <div id="dbAnalyseResult" class="db-analyse-table">
        <!-- Table content injected here -->
      </div>
    </div>
    <footer class="dlg-ft">
      <button class="btn btn--secondary" id="dbAnalyseOk">關閉</button>
    </footer>
  </div>
</dialog>